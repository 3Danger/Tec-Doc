FROM golang

WORKDIR /tec-doc

COPY . .


ENV TEC_DOC_POSTGRES_USERNAME csamuro
ENV TEC_DOC_POSTGRES_PASSWORD 1234
ENV TEC_DOC_POSTGRES_HOST db
ENV TEC_DOC_POSTGRES_PORT 5432
ENV TEC_DOC_POSTGRES_DB csamuro
ENV TEC_DOC_EXTERNAL_SERV_ADDRESS :8001
ENV TEC_DOC_INTERNAL_SERV_ADDRESS :8000
ENV TEC_DOC_LOG_LEVEL debug
ENV TEC_DOC_FRONTEND_PORT :8002

CMD ["go", "run", "cmd/tec-doc/main.go"]

EXPOSE 8002:8002
